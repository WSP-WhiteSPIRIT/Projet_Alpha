<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:p="http://primefaces.org/ui">
    <h:form id="formUpdateClient">
        <h2>Récapitulatif de votre profil</h2>
        <div id="updateProfil">
            <h3>Informations Personnelles</h3>

            <h:panelGrid id="formPerso" columns="3" style="margin-bottom: 10px" cellpadding="5">
                <h:outputLabel for="nom" value="Nom: " style="font-weight:bold" />
                <p:inplace editor="true">
                    <p:inputText id="nom" value="#{ficheClientParticulierManagedBean.client.nom}" validator="NomInscriptionValidator"/>
                </p:inplace>
                <p:messages showDetail="true" autoUpdate="true" closable="true" for="nom"/>

                <h:outputLabel for="prenom" value="Prenom: " style="font-weight:bold" />
                <p:inplace editor="true">
                    <p:inputText id="prenom" value="#{ficheClientParticulierManagedBean.client.prenom}" validator="PrenomInscriptionValidator"/>
                </p:inplace>
                <p:messages showDetail="true" autoUpdate="true" closable="true" for="prenom"/>

            </h:panelGrid>

            <h3>Coordonnées de contacts</h3>

            <h:panelGrid id="formContact" columns="3" style="margin-bottom: 10px" cellpadding="5">
                <h:outputLabel for="mail" value="Mail: " style="font-weight:bold" />
                <p:inplace editor="true">
                    <p:inputText id="mail" value="#{ficheClientParticulierManagedBean.client.mail}" validator="MailInscriptionValidator"/>
                </p:inplace>
                <p:messages showDetail="true" autoUpdate="true" closable="true" for="mail"/>

                <h:outputLabel for="telephone" value="Telephone: " style="font-weight:bold" />
                <p:inplace editor="true">
                    <p:inputText id="telephone" value="#{ficheClientParticulierManagedBean.client.telephone}" validator="TelephoneInscriptionValidator"/>
                </p:inplace>
                <p:messages showDetail="true" autoUpdate="true" closable="true" for="telephone"/>
            </h:panelGrid>

            <h3>Adresses</h3>

            <h:panelGrid id="formAdresse" columns="3" style="margin-bottom: 10px" cellpadding="5">

                <h:outputLabel for="adresse" value="Adresse: " style="font-weight:bold" />
                <p:inplace editor="true">
                    <p:inputText id="adresse" value="#{ficheClientParticulierManagedBean.client.adresse}" validator="AdresseInscriptionValidator"/>
                </p:inplace>
                <p:messages showDetail="true" autoUpdate="true" closable="true" for="adresse"/>

                <h:outputLabel for="codepostal" value="Code Postal: " style="font-weight:bold" />
                <p:inplace editor="true">
                    <p:inputText id="codepostal" value="#{ficheClientParticulierManagedBean.client.codepostal}" validator="CodePostalInscriptionValidator"/>
                </p:inplace>
                <p:messages showDetail="true" autoUpdate="true" closable="true" for="codepostal"/>

                <h:outputLabel for="ville" value="Ville: " style="font-weight:bold" />
                <p:inplace editor="true">
                    <p:inputText id="ville" value="#{ficheClientParticulierManagedBean.client.ville}" validator="VilleInscriptionValidator"/>
                </p:inplace>
                <p:messages showDetail="true" autoUpdate="true" closable="true" for="ville"/>
            </h:panelGrid>
        </div>

        <p:separator />

        <h2>Saisie d'un nouveau mot de passe</h2>

        <div  id="updatePassword">           

            <p:messages showDetail="true" autoUpdate="true" closable="true" for="pwd2"/>
            <h:panelGrid columns="2" id="matchGrid" cellpadding="5">                   

                <h:outputLabel for="pwd1" value="Mot de passe: " />
                <p:password 
                    id="pwd1" 
                    binding="#{pwd_new}"
                    feedback="true"
                    goodLabel="Correct"
                    strongLabel="Fort"
                    weakLabel="Faible"
                    promptLabel="S'il vous plaît, entrez un mot de passe"
                    placeholder="Nouveau mot de passe"

                    >
                </p:password>

                <h:outputLabel for="pwd2" value="Vérification: " />
                <p:password 
                    id="pwd2" 
                    value="#{ficheClientParticulierManagedBean.client.mdp}"
                    validator="PasswordVerificationValidator" 
                    feedback="true"
                    goodLabel="Correct"
                    strongLabel="Fort"
                    weakLabel="Faible"
                    promptLabel="S'il vous plaît, entrez un mot de passe"
                    placeholder="Mot de passe de validation"
                    
                    >
                    <f:attribute name="pwd_new_param" value="#{pwd_new}"/>
                </p:password>

            </h:panelGrid>
        </div>

        <p:separator />

        <div  id="validate"> 
            <p:growl sticky="true" showDetail="true" life="1" autoUpdate="true" for="button"/>  

            <p:commandButton id="button" actionListener="#{ficheClientParticulierManagedBean.enregistrer()}" validateClient="true" update="formUpdateClient" value="Enregistrer"/>
        </div> 
    </h:form>
</ui:composition>

